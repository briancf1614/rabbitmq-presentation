<section class="generator-card">
  <header>
    <h2>AI Image Creator</h2>
    <p>Configura la tua richiesta</p>
  </header>

  <div class="form-group">
    <label for="promptInput">Descrizione</label>
    
    <textarea 
      id="promptInput"
      [ngModel]="promptText()" 
      (ngModelChange)="promptText.set($event)"
      rows="3" 
      placeholder="Es: Un drago fatto di cristallo..."
      [disabled]="isLoading()">
    </textarea>
  </div>

  <div class="options-row">
    
    <div class="form-group half-width">
      <label for="qtyInput">Quantit√†</label>
      <input 
        id="qtyInput"
        type="number" 
        [ngModel]="quantity()"
        (ngModelChange)="quantity.set($event)"
        min="1" 
        max="10"
        placeholder="1"
        [disabled]="isLoading()">
    </div>

    <div class="form-group checkbox-group">
      <label for="effectInput">
        <input 
          id="effectInput"
          type="checkbox" 
          [ngModel]="addExtraEffect()"
          (ngModelChange)="addExtraEffect.set($event)"
          [disabled]="isLoading()">
        <span>Aggiungi Effetti Extra</span>
      </label>
    </div>

  </div>

  <div class="actions">
    <button 
      class="btn-primary" 
      (click)="generateImage()"
      [disabled]="!promptText() || isLoading()">
      
      @if (isLoading()) {
        <span>Processando...</span>
      } @else {
        <span>Genera Immagini</span>
      }
    </button>
  </div>

  @if (responseMessage()) {
    <div class="alert" [class.error]="hasError()" [class.success]="!hasError()">
      {{ responseMessage() }}
    </div>
  }

  @if (generatedImageUrl()) {
    <div class="result-container">
      <h3>Risultato:</h3>
      <img [src]="generatedImageUrl()" alt="Immagine generata" class="generated-img">
    </div>
  }

</section>